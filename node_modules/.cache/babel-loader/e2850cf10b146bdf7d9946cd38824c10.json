{"ast":null,"code":"var _jsxFileName = \"/home/renzo/Desktop/soloEnReact/src/components/BMap/index.js\";\n// Dependencies\nimport React, { Component } from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nvar complete_marker_list = {\n  lat: {},\n  long: {}\n};\nvar marker_list = {\n  lat: {\n    0: 0\n  },\n  long: {\n    0: 0\n  }\n};\n\nclass BMap extends Component {\n  componentDidMount() {\n    var token = JSON.parse(localStorage.getItem('token'));\n    var url = \"https://api.mercadolibre.com/orders/search?seller=\" + token.user_id + \"&order.status=paid&access_token=\" + token.access_token;\n    var cont = 0;\n    var cont2 = 0;\n    fetch(url).then(function (response) {\n      return response.json();\n    }).then(function (data) {\n      for (var i = 0; i < data.results.length; i++) {\n        if (data.results[i].shipping.receiver_address !== undefined) {\n          if (data.results[i].shipping.receiver_address.latitude !== null) {\n            complete_marker_list.lat[cont] = data.results[i].shipping.receiver_address.latitude;\n            complete_marker_list.long[cont] = data.results[i].shipping.receiver_address.longitude;\n            cont++;\n          }\n        }\n      }\n\n      for (var x = 0; x < Object.keys(complete_marker_list.lat).length; x++) {\n        for (var y = 0; y < Object.keys(marker_list.lat).length; y++) {\n          if (complete_marker_list.lat[x] === marker_list.lat[y] && complete_marker_list.long[x] === marker_list.long[y]) {\n            break;\n          } else if (y === Object.keys(marker_list.lat).length - 1) {\n            marker_list.lat[cont2] = complete_marker_list.lat[x];\n            marker_list.long[cont2] = complete_marker_list.long[x];\n            cont2++;\n          }\n        }\n      }\n\n      console.log(marker_list);\n      localStorage.setItem('markerList', JSON.stringify(marker_list));\n    });\n  }\n\n  render() {\n    var ml = JSON.parse(localStorage.getItem('markerList'));\n    var makers = {};\n\n    for (var i = 0; i < Object.keys(ml.lat).length; i++) {\n      makers[i] = React.createElement(Marker, {\n        position: [ml.lat[i], ml.long[i]],\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(Popup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, \"Marker\"));\n    }\n\n    function makeMarkers(mk) {\n      return makers;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"BMap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"MAP PAGE\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Map, {\n      style: {\n        display: 'block',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        height: '500px',\n        width: '700px'\n      },\n      center: [-34.304573, -64.76381],\n      zoom: 3,\n      maxZoom: 17,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(MarkerClusterGroup, {\n      maxClusterRadius: 120,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, makeMarkers(makers)))));\n  }\n\n}\n\nexport default BMap;","map":{"version":3,"sources":["/home/renzo/Desktop/soloEnReact/src/components/BMap/index.js"],"names":["React","Component","Map","Marker","Popup","TileLayer","MarkerClusterGroup","complete_marker_list","lat","long","marker_list","BMap","componentDidMount","token","JSON","parse","localStorage","getItem","url","user_id","access_token","cont","cont2","fetch","then","response","json","data","i","results","length","shipping","receiver_address","undefined","latitude","longitude","x","Object","keys","y","console","log","setItem","stringify","render","ml","makers","makeMarkers","mk","textAlign","display","marginLeft","marginRight","height","width"],"mappings":"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","sourcesContent":["// Dependencies\nimport React, { Component } from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\n\n\nvar complete_marker_list = {lat: {}, long: {}};\nvar marker_list = {lat: {0:0}, long: {0:0}};\n\n\nclass BMap extends Component {\n\n  componentDidMount(){\n    var token = JSON.parse(localStorage.getItem('token'));\n\n    var url = \"https://api.mercadolibre.com/orders/search?seller=\"+ token.user_id +\"&order.status=paid&access_token=\"+ token.access_token;\n\n    var cont = 0;\n    var cont2 = 0;\n\n    fetch(url)\n      .then(function(response){\n        return response.json();\n      })\n      .then(function(data){\n        for (var i = 0; i < data.results.length; i++) {\n          if (data.results[i].shipping.receiver_address !== undefined) {\n            if (data.results[i].shipping.receiver_address.latitude !== null) {\n\n              complete_marker_list.lat[cont] = data.results[i].shipping.receiver_address.latitude;\n              complete_marker_list.long[cont] = data.results[i].shipping.receiver_address.longitude;\n              cont++;\n            }\n          }\n        }\n\n        for (var x = 0; x < Object.keys(complete_marker_list.lat).length; x++) {\n\n          for (var y = 0; y < Object.keys(marker_list.lat).length; y++) {\n\n            if(complete_marker_list.lat[x] === marker_list.lat[y] && complete_marker_list.long[x] === marker_list.long[y]){\n              break;\n\n            }else if(y === Object.keys(marker_list.lat).length - 1){\n\n              marker_list.lat[cont2] = complete_marker_list.lat[x];\n              marker_list.long[cont2] = complete_marker_list.long[x];\n              cont2++;\n            }\n\n          }\n        }\n\n        console.log(marker_list);\n\n        localStorage.setItem('markerList',JSON.stringify(marker_list));\n      });\n  }\n\n  render() {\n    var ml = JSON.parse(localStorage.getItem('markerList'));\n    \n    var makers = {};\n\n    for (var i = 0;i<Object.keys(ml.lat).length;i++){\n      makers[i] = <Marker position={[ml.lat[i], ml.long[i]]}><Popup>Marker</Popup></Marker>;\n    }\n\n    function makeMarkers(mk){\n      return makers;\n    }\n\n    return (\n      <div className=\"BMap\">\n        <h1 style={{textAlign: 'center'}}>MAP PAGE</h1>\n        \n        <div>\n          <Map style={{ display: 'block',marginLeft: 'auto',marginRight: 'auto',height: '500px', width: '700px' }} center={[-34.304573, -64.76381]} zoom={3} maxZoom={17}>\n            <TileLayer\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\n            />\n            <MarkerClusterGroup maxClusterRadius={120}>\n              {makeMarkers(makers)}\n            </MarkerClusterGroup>\n          </Map>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default (BMap);"]},"metadata":{},"sourceType":"module"}