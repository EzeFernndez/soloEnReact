{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neji\\\\Desktop\\\\soloEnReact\\\\src\\\\components\\\\LoguedIn\\\\index.js\";\n// Dependencies\nimport React, { Component } from 'react';\nimport { parse } from 'query-string';\nvar url = 'https://api.mercadolibre.com/oauth/token?';\nvar options = {\n  form: {\n    \"grant_type\": \"authorization_code\",\n    \"client_id\": '4069477448135367',\n    \"client_secret\": 'eqaPB8Ot1neu4JVVGyqDu5tPorwvmlh2',\n    \"redirect_uri\": \"http://localhost:3000/logued_in\",\n    \"code\": \"\"\n  },\n  method: \"POST\",\n  headers: {\n    'Content-Type': 'application/x-www-form-urlencoded',\n    'Accept': 'application/json'\n  }\n};\n\nclass LoguedIn extends Component {\n  componentWillMount() {\n    const URLSearchParams = window.URLSearchParams;\n    var burl = new URLSearchParams();\n    burl.append(\"grant_type\", \"authorization_code\");\n    burl.append(\"client_id\", '4069477448135367');\n    burl.append(\"client_secret\", 'eqaPB8Ot1neu4JVVGyqDu5tPorwvmlh2');\n    burl.append(\"code\", parse(this.props.location.search).code);\n    burl.append(\"redirect_uri\", options.form.redirect_uri);\n    var aurl = url + burl;\n    console.log(aurl);\n    fetch('/sasara', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"url\": aurl\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    fetch('/logued_in', {\n      method: 'POST',\n      body: JSON.stringify({\n        \"url\": aurl\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      }\n    });\n    /*  fetch(aurl,options)\r\n      .then(function(response){ \r\n        return response.json()\r\n          .then(function(data) {\r\n            var token = data;\r\n            localStorage.setItem('token',JSON.stringify(token));\r\n            console.log(token)    \r\n          })\r\n          .catch(function(error) {\r\n          console.log('Fetch Error:', error);\r\n        });\r\n    }); */\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"LoguedIn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, \"YOU ARE LOGUED\"));\n  }\n\n}\n\nexport default LoguedIn;","map":{"version":3,"sources":["C:\\Users\\Neji\\Desktop\\soloEnReact\\src\\components\\LoguedIn\\index.js"],"names":["React","Component","parse","url","options","form","method","headers","LoguedIn","componentWillMount","URLSearchParams","window","burl","append","props","location","search","code","redirect_uri","aurl","console","log","fetch","body","JSON","stringify","render","textAlign"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,KAAT,QAAsB,cAAtB;AAEA,IAAIC,GAAG,GAAG,2CAAV;AAGA,IAAIC,OAAO,GAAG;AACXC,EAAAA,IAAI,EAAE;AACL,kBAAa,oBADR;AAEL,iBAAa,kBAFR;AAGL,qBAAiB,kCAHZ;AAIL,oBAAgB,iCAJX;AAKL,YAAQ;AALH,GADK;AAQXC,EAAAA,MAAM,EAAE,MARG;AASXC,EAAAA,OAAO,EAAE;AACR,oBAAgB,mCADR;AAER,cAAU;AAFF;AATE,CAAd;;AAeA,MAAMC,QAAN,SAAuBP,SAAvB,CAAiC;AAE/BQ,EAAAA,kBAAkB,GAAE;AAElB,UAAMC,eAAe,GAAGC,MAAM,CAACD,eAA/B;AAEA,QAAIE,IAAI,GAAG,IAAIF,eAAJ,EAAX;AAEAE,IAAAA,IAAI,CAACC,MAAL,CAAY,YAAZ,EAAyB,oBAAzB;AACAD,IAAAA,IAAI,CAACC,MAAL,CAAY,WAAZ,EAAyB,kBAAzB;AACAD,IAAAA,IAAI,CAACC,MAAL,CAAY,eAAZ,EAA6B,kCAA7B;AACAD,IAAAA,IAAI,CAACC,MAAL,CAAY,MAAZ,EAAmBX,KAAK,CAAC,KAAKY,KAAL,CAAWC,QAAX,CAAoBC,MAArB,CAAL,CAAkCC,IAArD;AACAL,IAAAA,IAAI,CAACC,MAAL,CAAY,cAAZ,EAA2BT,OAAO,CAACC,IAAR,CAAaa,YAAxC;AAEA,QAAIC,IAAI,GAAGhB,GAAG,GAAGS,IAAjB;AAEAQ,IAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AAEAG,IAAAA,KAAK,CAAC,SAAD,EAAY;AACfhB,MAAAA,MAAM,EAAE,MADO;AAEfiB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnB,eAAON;AADY,OAAf,CAFS;AAKfZ,MAAAA,OAAO,EAAC;AACN,wBAAgB;AADV;AALO,KAAZ,CAAL;AAUAe,IAAAA,KAAK,CAAC,YAAD,EAAe;AAClBhB,MAAAA,MAAM,EAAE,MADU;AAElBiB,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACnB,eAAON;AADY,OAAf,CAFY;AAKlBZ,MAAAA,OAAO,EAAC;AACN,wBAAgB;AADV;AALU,KAAf,CAAL;AAUA;;;;;;;;;;;;AAaD;;AAEDmB,EAAAA,MAAM,GAAG;AACP,WACE;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE;AAAI,MAAA,KAAK,EAAE;AAACC,QAAAA,SAAS,EAAE;AAAZ,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF;AAKD;;AA3D8B;;AA+DjC,eAAenB,QAAf","sourcesContent":["// Dependencies\r\nimport React, { Component } from 'react';\r\nimport { parse } from 'query-string';\r\n\r\nvar url = 'https://api.mercadolibre.com/oauth/token?';\r\n\r\n\r\nvar options = {\r\n   form: {\r\n    \"grant_type\":\"authorization_code\",\r\n    \"client_id\": '4069477448135367',\r\n    \"client_secret\": 'eqaPB8Ot1neu4JVVGyqDu5tPorwvmlh2',\r\n    \"redirect_uri\": \"http://localhost:3000/logued_in\",\r\n    \"code\": \"\"\r\n   },\r\n   method: \"POST\", \r\n   headers: {\r\n    'Content-Type': 'application/x-www-form-urlencoded',\r\n    'Accept': 'application/json' \r\n   }\r\n};\r\n\r\nclass LoguedIn extends Component {\r\n\r\n  componentWillMount(){\r\n\r\n    const URLSearchParams = window.URLSearchParams;\r\n\r\n    var burl = new URLSearchParams();\r\n\r\n    burl.append(\"grant_type\",\"authorization_code\")\r\n    burl.append(\"client_id\", '4069477448135367')\r\n    burl.append(\"client_secret\", 'eqaPB8Ot1neu4JVVGyqDu5tPorwvmlh2',)\r\n    burl.append(\"code\",parse(this.props.location.search).code);\r\n    burl.append(\"redirect_uri\",options.form.redirect_uri)\r\n\r\n    var aurl = url + burl\r\n\r\n    console.log(aurl)\r\n\r\n    fetch('/sasara', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        \"url\": aurl\r\n      }),\r\n      headers:{\r\n        'Content-Type': 'application/json',\r\n      }\r\n    })\r\n\r\n    fetch('/logued_in', {\r\n      method: 'POST',\r\n      body: JSON.stringify({\r\n        \"url\": aurl\r\n      }),\r\n      headers:{\r\n        'Content-Type': 'application/json',\r\n      }\r\n    })\r\n\r\n    /*  fetch(aurl,options)\r\n      .then(function(response){ \r\n        return response.json()\r\n          .then(function(data) {\r\n            var token = data;\r\n            localStorage.setItem('token',JSON.stringify(token));\r\n            console.log(token)    \r\n          })\r\n          .catch(function(error) {\r\n          console.log('Fetch Error:', error);\r\n        });\r\n    }); */\r\n    \r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"LoguedIn\">\r\n        <h1 style={{textAlign: 'center'}}>YOU ARE LOGUED</h1>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n}\r\n\r\nexport default LoguedIn;"]},"metadata":{},"sourceType":"module"}