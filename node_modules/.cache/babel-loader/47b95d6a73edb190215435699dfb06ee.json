{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Neji\\\\Desktop\\\\soloEnReact\\\\src\\\\components\\\\BMap\\\\index.js\";\n// Dependencies\nimport React, { Component } from 'react';\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\nvar complete_marker_list = {\n  name: {},\n  lat: {},\n  long: {}\n};\nvar marker_list = {\n  name: {\n    0: 0\n  },\n  cant: {\n    0: 0\n  },\n  lat: {\n    0: 0\n  },\n  long: {\n    0: 0\n  }\n};\n\nclass BMap extends Component {\n  componentWillMount() {\n    var data = JSON.parse(localStorage.getItem('datosMapa'));\n    var cont = 0;\n    var cont2 = 0;\n\n    for (var i = 0; i < data.results.length; i++) {\n      if (data.results[i].shipping.receiver_address !== undefined) {\n        if (data.results[i].shipping.receiver_address.latitude !== null) {\n          complete_marker_list.name[cont] = data.results[i].buyer.nickname;\n          complete_marker_list.lat[cont] = data.results[i].shipping.receiver_address.latitude;\n          complete_marker_list.long[cont] = data.results[i].shipping.receiver_address.longitude;\n          cont++;\n        }\n      }\n    }\n\n    for (var x = 0; x < Object.keys(complete_marker_list.lat).length; x++) {\n      for (var y = 0; y < Object.keys(marker_list.lat).length; y++) {\n        if (complete_marker_list.lat[x] === marker_list.lat[y] && complete_marker_list.long[x] === marker_list.long[y]) {\n          if (marker_list.cant[y] === undefined) {\n            marker_list.cant[y] = 1;\n          } else {\n            marker_list.cant[y] = marker_list.cant[y] + 1;\n          }\n\n          break;\n        } else if (y === Object.keys(marker_list.lat).length - 1) {\n          marker_list.name[cont2] = complete_marker_list.name[x];\n          marker_list.lat[cont2] = complete_marker_list.lat[x];\n          marker_list.long[cont2] = complete_marker_list.long[x];\n          cont2++;\n        }\n      }\n    }\n\n    console.log(marker_list);\n    localStorage.setItem('markerList', JSON.stringify(marker_list));\n  }\n\n  render() {\n    var ml = JSON.parse(localStorage.getItem('markerList'));\n    var makers = [];\n\n    function makeMarkers() {\n      for (var i = 0; i < Object.keys(ml.lat).length; i++) {\n        makers.push(React.createElement(Marker, {\n          position: [ml.lat[i], ml.long[i]],\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, React.createElement(Popup, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, ml.name[i] + \" : \" + ml.cant[i] + \" compras\")));\n      }\n\n      return makers;\n    }\n\n    return React.createElement(\"div\", {\n      className: \"BMap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"MAP PAGE\"), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }, React.createElement(Map, {\n      style: {\n        display: 'block',\n        marginLeft: 'auto',\n        marginRight: 'auto',\n        height: '500px',\n        width: '700px'\n      },\n      center: [-34.304573, -64.76381],\n      zoom: 3,\n      maxZoom: 17,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, React.createElement(TileLayer, {\n      url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n      attribution: \"\\xA9 <a href=\\\"http://osm.org/copyright\\\">OpenStreetMap</a> contributors\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(MarkerClusterGroup, {\n      maxClusterRadius: 120,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, makeMarkers()))));\n  }\n\n}\n\nexport default BMap;","map":{"version":3,"sources":["C:\\Users\\Neji\\Desktop\\soloEnReact\\src\\components\\BMap\\index.js"],"names":["React","Component","Map","Marker","Popup","TileLayer","MarkerClusterGroup","complete_marker_list","name","lat","long","marker_list","cant","BMap","componentWillMount","data","JSON","parse","localStorage","getItem","cont","cont2","i","results","length","shipping","receiver_address","undefined","latitude","buyer","nickname","longitude","x","Object","keys","y","console","log","setItem","stringify","render","ml","makers","makeMarkers","push","textAlign","display","marginLeft","marginRight","height","width"],"mappings":"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","sourcesContent":["// Dependencies\r\nimport React, { Component } from 'react';\r\nimport { Map, Marker, Popup, TileLayer } from 'react-leaflet';\r\nimport MarkerClusterGroup from 'react-leaflet-markercluster';\r\n\r\n\r\nvar complete_marker_list = {name: {}, lat: {}, long: {}};\r\nvar marker_list = {name: {0:0},cant: {0:0}, lat: {0:0}, long: {0:0}};\r\n\r\n\r\nclass BMap extends Component {\r\n\r\n  componentWillMount(){\r\n\r\n    var data = JSON.parse(localStorage.getItem('datosMapa'));\r\n\r\n    var cont = 0;\r\n    var cont2 = 0;\r\n\r\n        for (var i = 0; i < data.results.length; i++) {\r\n          if (data.results[i].shipping.receiver_address !== undefined) {\r\n            if (data.results[i].shipping.receiver_address.latitude !== null) {\r\n              \r\n              complete_marker_list.name[cont] = data.results[i].buyer.nickname;\r\n              complete_marker_list.lat[cont] = data.results[i].shipping.receiver_address.latitude;\r\n              complete_marker_list.long[cont] = data.results[i].shipping.receiver_address.longitude;\r\n              cont++;\r\n            }\r\n          }\r\n        }\r\n\r\n        for (var x = 0; x < Object.keys(complete_marker_list.lat).length; x++) {\r\n\r\n          for (var y = 0; y < Object.keys(marker_list.lat).length; y++) {\r\n\r\n            if(complete_marker_list.lat[x] === marker_list.lat[y] && complete_marker_list.long[x] === marker_list.long[y]){\r\n              if (marker_list.cant[y] === undefined) {\r\n                marker_list.cant[y] = 1;\r\n              }else{\r\n                marker_list.cant[y] = marker_list.cant[y] + 1;\r\n              }\r\n\r\n              break;\r\n\r\n            }else if(y === Object.keys(marker_list.lat).length - 1){\r\n              \r\n              marker_list.name[cont2] = complete_marker_list.name[x];\r\n              marker_list.lat[cont2] = complete_marker_list.lat[x];\r\n              marker_list.long[cont2] = complete_marker_list.long[x];\r\n              cont2++;\r\n            }\r\n\r\n          }\r\n        }\r\n        console.log(marker_list)\r\n        localStorage.setItem('markerList',JSON.stringify(marker_list));\r\n\r\n  }\r\n\r\n  render() {\r\n    var ml = JSON.parse(localStorage.getItem('markerList'));\r\n    \r\n    var makers = [];\r\n\r\n    function makeMarkers(){\r\n      for (var i = 0;i<Object.keys(ml.lat).length;i++){\r\n        makers.push(<Marker position={[ml.lat[i], ml.long[i]]}><Popup>{ml.name[i] + \" : \" + ml.cant[i] + \" compras\"}</Popup></Marker>);\r\n      }\r\n\r\n      return makers;\r\n    }\r\n\r\n    return (\r\n      <div className=\"BMap\">\r\n        <h1 style={{textAlign: 'center'}}>MAP PAGE</h1>\r\n        \r\n        <div>\r\n          <Map style={{ display: 'block',marginLeft: 'auto',marginRight: 'auto',height: '500px', width: '700px' }} center={[-34.304573, -64.76381]} zoom={3} maxZoom={17}>\r\n            <TileLayer\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\" \r\n              attribution='&copy; <a href=\"http://osm.org/copyright\">OpenStreetMap</a> contributors'\r\n            />\r\n            <MarkerClusterGroup maxClusterRadius={120}>\r\n              {makeMarkers()}\r\n            </MarkerClusterGroup>\r\n          </Map>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default (BMap);\r\n"]},"metadata":{},"sourceType":"module"}